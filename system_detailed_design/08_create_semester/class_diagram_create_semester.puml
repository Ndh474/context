@startuml Create Semester - Class Diagram
!theme plain
skinparam classAttributeIconSize 0
hide circle
skinparam circledCharacterRadius 0

class SemesterController {
  - semesterService : SemesterService
  + create(request : SemesterCreateRequest) : Response<SemesterDTO>
}

class SemesterService {
  - semesterRepository : SemesterRepository
  - semesterMapper : SemesterMapper
  + create(request : SemesterCreateRequest) : SemesterDTO
}

interface SemesterRepository <<interface>> {
  + existsByCode(code : String) : boolean
  + existsByName(name : String) : boolean
  + existsByDateRangeOverlap(startDate : LocalDate, endDate : LocalDate) : boolean
  + save(entity : Semester) : Semester
}

interface SemesterMapper <<interface>> {
  + toEntity(request : SemesterCreateRequest) : Semester
  + toDTO(entity : Semester) : SemesterDTO
}

class Semester {
  - id : Short
  - name : String
  - code : String
  - startDate : LocalDate
  - endDate : LocalDate
  - academicClasses : Set<AcademicClass>
}

class BaseEntity {
  - isActive : Boolean
  - createdAt : Instant
  - updatedAt : Instant
}

class SemesterCreateRequest {
  - name : String
  - code : String
  - startDate : LocalDate
  - endDate : LocalDate
}

class BaseRequest {
  - isActive : Boolean
}

class SemesterDTO {
  - id : Short
  - name : String
  - code : String
  - startDate : LocalDate
  - endDate : LocalDate
  - totalClass : Short
}

class BaseDTO {
  - isActive : Boolean
  - createdAt : Instant
  - updatedAt : Instant
}

class Response<T> {
  - status : int
  - message : String
  - code : String
  - data : T
}

SemesterController --> SemesterService
SemesterService --> SemesterRepository
SemesterService --> SemesterMapper

SemesterController ..> Response : <<use>>
SemesterController ..> SemesterDTO : <<use>>
SemesterController ..> SemesterCreateRequest : <<use>>
SemesterService ..> Semester : <<use>>
SemesterService ..> SemesterDTO : <<use>>
SemesterService ..> SemesterCreateRequest : <<use>>
SemesterRepository ..> Semester : <<use>>
SemesterMapper ..> Semester : <<use>>
SemesterMapper ..> SemesterDTO : <<use>>
SemesterMapper ..> SemesterCreateRequest : <<use>>

Semester --|> BaseEntity
SemesterCreateRequest --|> BaseRequest
SemesterDTO --|> BaseDTO

@enduml
