@startuml remove_participant_from_exam_slot
!theme plain
hide circle
skinparam classAttributeIconSize 0

' --- CẤU HÌNH "ORTHO" (BẮT BUỘC) ---
skinparam linetype ortho
skinparam nodesep 60
skinparam ranksep 60

' --- CONTROLLER ---
class ExamSlotController {
  + removeParticipant(slotId, participantId) : Response
}

' --- SERVICE ---
class ExamSlotService {
  + removeParticipant(slotId, participantId) : void
}

' --- REPOSITORY ---
interface ExamSlotParticipantRepository <<interface>> {
  + findById(id : Long) : Optional<ExamSlotParticipant>
  + delete(participant : ExamSlotParticipant) : void
}

' --- ENTITIES ---
class ExamSlotParticipant {
  - id : Long
  - examSlotSubject : ExamSlotSubject
  - studentUser : User
  - isEnrolled : Boolean
}

class ExamSlotSubject {
  - id : Long
  - slot : Slot
}

class Slot {
  - id : Integer
  - title : String
}

class User {
  - id : Integer
  - username : String
}

' --- DEPENDENCY INJECTION (Association) ---
ExamSlotController -down-> ExamSlotService
ExamSlotService -down-> ExamSlotParticipantRepository

' --- REPOSITORY USAGE (Dependency) ---
ExamSlotParticipantRepository .down.> ExamSlotParticipant

' --- ENTITY RELATIONSHIPS (Aggregation) ---
ExamSlotParticipant o-left- ExamSlotSubject
ExamSlotParticipant o-right- User
ExamSlotSubject o-right- Slot

@enduml
