{
  "metadata": {
    "codebase": "backend",
    "category": "config_file",
    "generated_at": "2025-11-20T20:18:28.636117",
    "total_files": 6,
    "total_lines": 467,
    "total_bytes": 16164
  },
  "files": [
    {
      "path": "d:\\Work\\do_an_fall25\\fuacs\\backend\\pom.xml",
      "relative_path": "pom.xml",
      "filename": "pom.xml",
      "size_bytes": 9479,
      "lines": 247,
      "last_modified": "2025-11-01T09:05:42.023170",
      "encoding": "utf-8",
      "language": "xml",
      "content": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\">\n    <modelVersion>4.0.0</modelVersion>\n    <parent>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-parent</artifactId>\n        <version>3.5.6</version>\n        <relativePath/>\n    </parent>\n    <groupId>com.fuacs</groupId>\n    <artifactId>backend</artifactId>\n    <version>0.0.1-SNAPSHOT</version>\n    <name>backend</name>\n    <description>Core API service for FUACS</description>\n    <url/>\n    <licenses>\n        <license/>\n    </licenses>\n    <developers>\n        <developer/>\n    </developers>\n    <scm>\n        <connection/>\n        <developerConnection/>\n        <tag/>\n        <url/>\n    </scm>\n    <properties>\n        <java.version>21</java.version>\n    </properties>\n    <dependencies>\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-data-jpa</artifactId>\n        </dependency>\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-security</artifactId>\n        </dependency>\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-oauth2-authorization-server</artifactId>\n        </dependency>\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-web</artifactId>\n        </dependency>\n        <dependency>\n            <groupId>org.postgresql</groupId>\n            <artifactId>postgresql</artifactId>\n        </dependency>\n        <dependency>\n            <groupId>org.flywaydb</groupId>\n            <artifactId>flyway-core</artifactId>\n        </dependency>\n        <dependency>\n            <groupId>org.flywaydb</groupId>\n            <artifactId>flyway-database-postgresql</artifactId>\n        </dependency>\n        <dependency>\n            <groupId>org.springdoc</groupId>\n            <artifactId>springdoc-openapi-starter-webmvc-ui</artifactId>\n            <version>2.8.13</version>\n        </dependency>\n        <dependency>\n            <groupId>org.hibernate.validator</groupId>\n            <artifactId>hibernate-validator</artifactId>\n        </dependency>\n        <dependency>\n            <groupId>jakarta.validation</groupId>\n            <artifactId>jakarta.validation-api</artifactId>\n        </dependency>\n        <dependency>\n            <groupId>org.mapstruct</groupId>\n            <artifactId>mapstruct</artifactId>\n            <version>1.6.3</version>\n        </dependency>\n        <dependency>\n            <groupId>org.mapstruct</groupId>\n            <artifactId>mapstruct-processor</artifactId>\n            <version>1.6.3</version>\n        </dependency>\n        <dependency>\n            <groupId>com.google.api-client</groupId>\n            <artifactId>google-api-client</artifactId>\n            <version>2.8.1</version>\n        </dependency>\n        <dependency>\n            <groupId>com.google.http-client</groupId>\n            <artifactId>google-http-client-jackson2</artifactId>\n            <version>2.0.1</version>\n        </dependency>\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-mail</artifactId>\n        </dependency>\n        <dependency>\n            <groupId>io.github.resilience4j</groupId>\n            <artifactId>resilience4j-spring-boot3</artifactId>\n            <version>2.3.0</version>\n        </dependency>\n        <dependency>\n            <groupId>org.apache.httpcomponents.client5</groupId>\n            <artifactId>httpclient5</artifactId>\n        </dependency>\n\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-test</artifactId>\n            <scope>test</scope>\n        </dependency>\n        <dependency>\n            <groupId>org.springframework.security</groupId>\n            <artifactId>spring-security-test</artifactId>\n            <scope>test</scope>\n        </dependency>\n        <dependency>\n            <groupId>org.testcontainers</groupId>\n            <artifactId>junit-jupiter</artifactId>\n            <scope>test</scope>\n        </dependency>\n        <dependency>\n            <groupId>org.testcontainers</groupId>\n            <artifactId>postgresql</artifactId>\n            <scope>test</scope>\n        </dependency>\n        <dependency>\n            <groupId>com.h2database</groupId>\n            <artifactId>h2</artifactId>\n        </dependency>\n        <dependency>\n            <groupId>me.paulschwarz</groupId>\n            <artifactId>spring-dotenv</artifactId>\n            <version>4.0.0</version>\n        </dependency>\n        <dependency>\n            <groupId>org.apache.poi</groupId>\n            <artifactId>poi</artifactId>\n            <version>5.3.0</version>\n        </dependency>\n        <dependency>\n            <groupId>org.apache.poi</groupId>\n            <artifactId>poi-ooxml</artifactId>\n            <version>5.3.0</version>\n        </dependency>\n        <dependency>\n            <groupId>commons-validator</groupId>\n            <artifactId>commons-validator</artifactId>\n            <version>1.10.0</version>\n        </dependency>\n    </dependencies>\n\n    <build>\n        <plugins>\n            <plugin>\n                <groupId>org.springframework.boot</groupId>\n                <artifactId>spring-boot-maven-plugin</artifactId>\n            </plugin>\n            <plugin>\n                <groupId>org.apache.maven.plugins</groupId>\n                <artifactId>maven-surefire-plugin</artifactId>\n                <configuration>\n                    <includes>\n                        <include>**/*Test.java</include>\n                    </includes>\n                    <excludes>\n                        <exclude>**/*IntegrationTest.java</exclude>\n                    </excludes>\n                </configuration>\n            </plugin>\n\n            <plugin>\n                <groupId>org.apache.maven.plugins</groupId>\n                <artifactId>maven-failsafe-plugin</artifactId>\n                <configuration>\n                    <includes>\n                        <include>**/*IntegrationTest.java</include>\n                    </includes>\n                </configuration>\n            </plugin>\n\n            <plugin>\n                <groupId>org.jacoco</groupId>\n                <artifactId>jacoco-maven-plugin</artifactId>\n                <version>0.8.14</version>\n\n                <configuration>\n                    <excludes>\n                        <exclude>**/dto/**</exclude>\n                        <exclude>**/entity/**</exclude>\n                        <exclude>**/config/**</exclude>\n                    </excludes>\n                </configuration>\n\n                <executions>\n                    <execution>\n                        <id>prepare-agent</id>\n                        <goals>\n                            <goal>prepare-agent</goal>\n                        </goals>\n                    </execution>\n                    <execution>\n                        <id>report</id>\n                        <phase>test</phase> <goals>\n                        <goal>report</goal>\n                    </goals>\n                    </execution>\n                    <execution>\n                        <id>check</id>\n                        <goals>\n                            <goal>check</goal>\n                        </goals>\n                        <configuration>\n                            <rules>\n                                <rule>\n                                    <element>BUNDLE</element>\n                                    <limits>\n                                        <limit>\n                                            <counter>INSTRUCTION</counter>\n                                            <value>COVEREDRATIO</value>\n                                            <minimum>0.80</minimum> </limit>\n                                    </limits>\n                                </rule>\n                                <rule>\n                                    <element>CLASS</element>\n                                    <limits>\n                                        <limit>\n                                            <counter>LINE</counter>\n                                            <value>COVEREDRATIO</value>\n                                            <minimum>0.80</minimum> </limit>\n                                    </limits>\n                                    <excludes>\n                                        <exclude>**/*DTO.class</exclude>\n                                        <exclude>**/*Request.class</exclude>\n                                        <exclude>**/*Entity.class</exclude>\n                                    </excludes>\n                                </rule>\n                            </rules>\n                        </configuration>\n                    </execution>\n                </executions>\n            </plugin>\n        </plugins>\n    </build>\n\n</project>\n"
    },
    {
      "path": "d:\\Work\\do_an_fall25\\fuacs\\backend\\src\\main\\resources\\application-dev.yaml",
      "relative_path": "src/main/resources/application-dev.yaml",
      "filename": "application-dev.yaml",
      "size_bytes": 2220,
      "lines": 73,
      "last_modified": "2025-11-11T13:24:54.497162",
      "encoding": "utf-8",
      "language": "yaml",
      "content": "spring:\n  datasource:\n    url: ${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/fuacs_dev}\n    username: ${SPRING_DATASOURCE_USERNAME:postgres}\n    password: ${SPRING_DATASOURCE_PASSWORD:secret}\n    driver-class-name: org.postgresql.Driver\n  flyway:\n    enabled: true\n    baseline-on-migrate: true\n    locations: classpath:db/migration\n    validate-on-migrate: true\n    clean-disabled: false\n  jpa:\n    database: postgresql\n    generate-ddl: false\n    show-sql: false\n    hibernate:\n      ddl-auto: none\n    properties:\n      hibernate:\n        default_schema: public\n        jdbc:\n          batch_size: 20\n          batch_versioned_data: true\n        dialect: org.hibernate.dialect.PostgreSQLDialect\n        order_inserts: true\n        order_updates: true\n        generate_statistics: false\n        format_sql: false\n    open-in-view: false\n  mail:\n    host: smtp.gmail.com\n    port: 587\n    username: ${MAIL:your-mail}\n    password: ${MAIL_APP_PASSWORD:your-2fa-app-password}\n    properties:\n      mail.smtp.auth: true\n      mail.smtp.starttls.enable: true\n#resilience4j:\n#  ratelimiter:\n#    instances:\n#      forgot-password:\n#        limit-for-period: 1     # tối đa 1 lần\n#        limit-refresh-period: 1m # mỗi 1 phút\n#        timeout-duration: 0     # không chờ khi vượt limit\ngoogle:\n  client-id: ${GOOGLE_CLIENT_ID:your-google-client-id.apps.googleusercontent.com}\n  client-secret: ${GOOGLE_CLIENT_SECRET}\n\nfrontend:\n  url: ${FRONTEND_URL:http://localhost:3000}\n\ntoken:\n  expire: ${TOKEN_EXPIRE:120}\n  sign-key: ${TOKEN_SIGN_KEY:my-very-secure-and-long-shared-secret-key-1234567890}\n\n# Python Backend Configuration\npython:\n  backend:\n    url: ${PYTHON_BACKEND_URL:http://localhost:8000}\n    api-key: ${PYTHON_BACKEND_API_KEY:python-service-secret-key-12345}\n    connection-timeout: 10000 # 10 seconds\n    read-timeout: 30000 # 30 seconds\n    retry:\n      max-attempts: 3\n      backoff-delay: 1000 # 1 second\n\n# Evidence Storage Configuration\nevidence:\n  storage:\n    base-url: ${EVIDENCE_BASE_URL:http://localhost:8080/uploads/evidence}\n    base-path: ${EVIDENCE_BASE_PATH:/uploads/evidence}\n    retention-days: 90\n"
    },
    {
      "path": "d:\\Work\\do_an_fall25\\fuacs\\backend\\src\\main\\resources\\application-prod.yaml",
      "relative_path": "src/main/resources/application-prod.yaml",
      "filename": "application-prod.yaml",
      "size_bytes": 619,
      "lines": 22,
      "last_modified": "2025-11-01T09:16:02.781414",
      "encoding": "utf-8",
      "language": "yaml",
      "content": "spring:\n  jpa:\n    hibernate:\n      ddl-auto: validate\n\n# Python Backend Configuration for Production\npython:\n  backend:\n    url: ${PYTHON_BACKEND_URL:http://python-service:8000}\n    api-key: ${PYTHON_BACKEND_API_KEY}\n    connection-timeout: 20000 # 20 seconds\n    read-timeout: 60000 # 60 seconds\n    retry:\n      max-attempts: 5\n      backoff-delay: 3000 # 3 seconds\n\n# Evidence Storage Configuration for Production\nevidence:\n  storage:\n    base-url: ${EVIDENCE_BASE_URL:https://yourdomain.com/uploads/evidence}\n    base-path: ${EVIDENCE_BASE_PATH:/app/uploads/evidence}\n    retention-days: 180\n"
    },
    {
      "path": "d:\\Work\\do_an_fall25\\fuacs\\backend\\src\\main\\resources\\application-staging.yaml",
      "relative_path": "src/main/resources/application-staging.yaml",
      "filename": "application-staging.yaml",
      "size_bytes": 766,
      "lines": 26,
      "last_modified": "2025-10-29T20:56:54.626198",
      "encoding": "utf-8",
      "language": "yaml",
      "content": "spring:\n  datasource:\n    url: ${SPRING_DATASOURCE_URL}\n    username: ${SPRING_DATASOURCE_USERNAME}\n    password: ${SPRING_DATASOURCE_PASSWORD}\n  jpa:\n    hibernate:\n      ddl-auto: update\n\n# Python Backend Configuration for Staging\npython:\n  backend:\n    url: ${PYTHON_BACKEND_URL:http://python-service-staging:8000}\n    api-key: ${PYTHON_BACKEND_API_KEY}\n    connection-timeout: 15000 # 15 seconds\n    read-timeout: 45000 # 45 seconds\n    retry:\n      max-attempts: 3\n      backoff-delay: 2000 # 2 seconds\n\n# Evidence Storage Configuration for Staging\nevidence:\n  storage:\n    base-url: ${EVIDENCE_BASE_URL:https://staging.yourdomain.com/uploads/evidence}\n    base-path: ${EVIDENCE_BASE_PATH:/app/uploads/evidence}\n    retention-days: 90\n"
    },
    {
      "path": "d:\\Work\\do_an_fall25\\fuacs\\backend\\src\\main\\resources\\application.yaml",
      "relative_path": "src/main/resources/application.yaml",
      "filename": "application.yaml",
      "size_bytes": 1561,
      "lines": 68,
      "last_modified": "2025-11-11T17:06:33.521540",
      "encoding": "utf-8",
      "language": "yaml",
      "content": "server:\n  port: ${PORT:8080}\n\nspring:\n  profiles:\n    active: ${PROFILE:dev}\n  application:\n    name: Backend Service\n\n  datasource:\n    url: ${SPRING_DATASOURCE_URL}\n    username: ${SPRING_DATASOURCE_USERNAME}\n    password: ${SPRING_DATASOURCE_PASSWORD}\n    driver-class-name: org.postgresql.Driver\n\n  jpa:\n    properties:\n      hibernate:\n        dialect: org.hibernate.dialect.PostgreSQLDialect\n        jdbc:\n          time_zone: Asia/Ho_Chi_Minh\n    hibernate:\n      ddl-auto: validate\n\n  jackson:\n    serialization:\n      write-dates-as-timestamps: false\n    time-zone: Asia/Ho_Chi_Minh\n\n  flyway:\n    enabled: true\n    baseline-on-migrate: true\n    locations: classpath:db/migration\n    validate-on-migrate: true\n\n# Python Backend Configuration\npython:\n  backend:\n    url: ${PYTHON_BACKEND_URL}\n    api-key: ${PYTHON_BACKEND_API_KEY}\n    connection-timeout: 10000 # 10 seconds\n    read-timeout: 30000 # 30 seconds\n    retry:\n      max-attempts: 3\n      backoff-delay: 1000 # 1 second\n\n# Evidence Storage Configuration\nevidence:\n  storage:\n    base-url: ${EVIDENCE_BASE_URL}\n    base-path: ${EVIDENCE_BASE_PATH}\n    retention-days: 90\n\n# Face Recognition Configuration\nface-recognition:\n  similarity-threshold: ${FACE_RECOGNITION_SIMILARITY_THRESHOLD:0.55}\n\n# File Upload Configuration\nfile:\n  upload:\n    temp-dir: ./temp\n    max-zip-size: 104857600  # 100MB\n    max-image-size: 5242880   # 5MB per image\n\n# Bulk Upload Configuration\nbulk-upload:\n  thread-pool-size: 10\n  batch-size: 50\n"
    },
    {
      "path": "d:\\Work\\do_an_fall25\\fuacs\\backend\\src\\main\\resources\\logback-spring.xml",
      "relative_path": "src/main/resources/logback-spring.xml",
      "filename": "logback-spring.xml",
      "size_bytes": 1519,
      "lines": 31,
      "last_modified": "2025-11-14T17:05:45.529383",
      "encoding": "utf-8",
      "language": "xml",
      "content": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<configuration>\n    <!-- Use Spring Boot's default configuration as base -->\n    <include resource=\"org/springframework/boot/logging/logback/defaults.xml\"/>\n    <include resource=\"org/springframework/boot/logging/logback/console-appender.xml\"/>\n\n    <!-- Application logger -->\n    <logger name=\"com.fuacs.backend\" level=\"INFO\"/>\n\n    <!-- SSE Hub debug logging (only shown when DEBUG enabled) -->\n    <logger name=\"com.fuacs.backend.realtime.SseHub\" level=\"DEBUG\"/>\n\n    <!-- Suppress noisy SSE-related exceptions from Spring/Tomcat -->\n    <!-- These are expected when clients disconnect (close tab, refresh, network issues) -->\n    <logger name=\"org.apache.catalina.connector.ClientAbortException\" level=\"WARN\"/>\n    <logger name=\"org.springframework.web.servlet.mvc.method.annotation.ResponseBodyEmitter\" level=\"WARN\"/>\n    <logger name=\"org.springframework.web.servlet.mvc.method.annotation.SseEmitter\" level=\"WARN\"/>\n\n    <!-- Reduce Tomcat NIO noise for broken pipe / connection reset -->\n    <logger name=\"org.apache.tomcat.util.net\" level=\"WARN\"/>\n    <logger name=\"org.apache.coyote.http11\" level=\"WARN\"/>\n\n    <!-- Hibernate SQL logging (uncomment for development) -->\n    <!-- <logger name=\"org.hibernate.SQL\" level=\"DEBUG\"/> -->\n    <!-- <logger name=\"org.hibernate.type.descriptor.sql.BasicBinder\" level=\"TRACE\"/> -->\n\n    <!-- Root logger -->\n    <root level=\"INFO\">\n        <appender-ref ref=\"CONSOLE\"/>\n    </root>\n</configuration>\n"
    }
  ]
}