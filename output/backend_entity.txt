{
  "metadata": {
    "codebase": "backend",
    "category": "entity",
    "generated_at": "2025-11-19T20:29:52.214287",
    "total_files": 26,
    "total_lines": 2322,
    "total_bytes": 63339
  },
  "files": [
    {
      "path": "D:\\Work\\do_an_fall25\\fuacs\\backend\\src\\main\\java\\com\\fuacs\\backend\\entity\\AcademicClass.java",
      "relative_path": "src/main/java/com/fuacs/backend/entity/AcademicClass.java",
      "filename": "AcademicClass.java",
      "size_bytes": 2549,
      "lines": 96,
      "last_modified": "2025-10-29T20:56:54.589110",
      "encoding": "utf-8",
      "language": "java",
      "content": "package com.fuacs.backend.entity;\n\nimport com.fuacs.backend.constant.Constant;\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.FetchType;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Index;\nimport jakarta.persistence.JoinColumn;\nimport jakarta.persistence.ManyToOne;\nimport jakarta.persistence.OneToMany;\nimport jakarta.persistence.Table;\nimport jakarta.persistence.UniqueConstraint;\n\nimport java.util.Set;\n\n@Entity\n@Table(name = \"classes\",\n        uniqueConstraints = {@UniqueConstraint(name = \"idx_classes_subject_semester_code\", columnNames = {\"subject_id\", \"semester_id\", \"code\"})},\n        indexes = {\n            @Index(name = \"idx_classes_semester_id\", columnList = \"semester_id\"),\n            @Index(name = \"idx_classes_subject_id\", columnList = \"subject_id\")\n        }\n)\npublic class AcademicClass extends BaseEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Short id;\n\n    @Column(name = \"code\", length = Constant._20, nullable = false)\n    private String code;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"subject_id\", nullable = false)\n    private Subject subject;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"semester_id\", nullable = false)\n    private Semester semester;\n\n    @OneToMany(mappedBy = \"academicClass\")\n    private Set<Enrollment> enrollments;\n\n    @OneToMany(mappedBy = \"academicClass\")\n    private Set<Slot> slots;\n\n    public Short getId() {\n        return id;\n    }\n\n    public void setId(Short id) {\n        this.id = id;\n    }\n\n    public String getCode() {\n        return code;\n    }\n\n    public void setCode(String code) {\n        this.code = code;\n    }\n\n    public Subject getSubject() {\n        return subject;\n    }\n\n    public void setSubject(Subject subject) {\n        this.subject = subject;\n    }\n\n    public Semester getSemester() {\n        return semester;\n    }\n\n    public void setSemester(Semester semester) {\n        this.semester = semester;\n    }\n\n    public Set<Enrollment> getEnrollments() {\n        return enrollments;\n    }\n\n    public void setEnrollments(Set<Enrollment> enrollments) {\n        this.enrollments = enrollments;\n    }\n\n    public Set<Slot> getSlots() {\n        return slots;\n    }\n\n    public void setSlots(Set<Slot> slots) {\n        this.slots = slots;\n    }\n}\n"
    },
    {
      "path": "D:\\Work\\do_an_fall25\\fuacs\\backend\\src\\main\\java\\com\\fuacs\\backend\\entity\\AttendanceRecord.java",
      "relative_path": "src/main/java/com/fuacs/backend/entity/AttendanceRecord.java",
      "filename": "AttendanceRecord.java",
      "size_bytes": 4533,
      "lines": 161,
      "last_modified": "2025-11-11T13:24:54.492607",
      "encoding": "utf-8",
      "language": "java",
      "content": "package com.fuacs.backend.entity;\n\nimport com.fuacs.backend.constant.Constant;\nimport com.fuacs.backend.constant.enums.AttendanceMethod;\nimport com.fuacs.backend.constant.enums.AttendanceStatus;\nimport com.fuacs.backend.persistence.converter.AttendanceMethodConverter;\nimport com.fuacs.backend.persistence.converter.AttendanceStatusConverter;\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.EntityListeners;\nimport jakarta.persistence.PrePersist;\nimport jakarta.persistence.Convert;\nimport jakarta.persistence.FetchType;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Index;\nimport jakarta.persistence.JoinColumn;\nimport jakarta.persistence.ManyToOne;\nimport jakarta.persistence.Table;\nimport jakarta.persistence.UniqueConstraint;\nimport org.springframework.data.annotation.CreatedDate;\nimport org.springframework.data.annotation.LastModifiedDate;\nimport org.springframework.data.jpa.domain.support.AuditingEntityListener;\n\nimport java.time.Instant;\n\n@EntityListeners(AuditingEntityListener.class)\n@Entity\n@Table(name = \"attendance_records\",\n        uniqueConstraints = {@UniqueConstraint(name = \"idx_attendance_records_student_slot\", columnNames = {\"student_user_id\", \"slot_id\"})},\n        indexes = {\n            @Index(name = \"idx_attendance_records_slot_id\", columnList = \"slot_id\"),\n            @Index(name = \"idx_attendance_records_status\", columnList = \"status\")\n        }\n)\npublic class AttendanceRecord {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = \"recorded_at\", nullable = false)\n    private Instant recordedAt;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"student_user_id\", nullable = false)\n    private User student;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"slot_id\", nullable = false)\n    private Slot slot;\n\n    @Convert(converter = AttendanceStatusConverter.class)\n    @Column(name = \"status\", length = Constant._10, nullable = false)\n    private AttendanceStatus status;\n\n    @Convert(converter = AttendanceMethodConverter.class)\n    @Column(name = \"method\", length = Constant._20, nullable = false)\n    private AttendanceMethod method;\n\n    @Column(name = \"remark\", columnDefinition = \"TEXT\")\n    private String remark;\n\n    @Column(name = \"needs_review\", nullable = false)\n    private Boolean needsReview = false;\n\n    @CreatedDate\n    @Column(name = \"created_at\", updatable = false, nullable = false)\n    private Instant createdAt;\n\n    @LastModifiedDate\n    @Column(name = \"updated_at\", nullable = false)\n    private Instant updatedAt;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public Instant getRecordedAt() {\n        return recordedAt;\n    }\n\n    public void setRecordedAt(Instant recordedAt) {\n        this.recordedAt = recordedAt;\n    }\n\n    public User getStudent() {\n        return student;\n    }\n\n    public void setStudent(User student) {\n        this.student = student;\n    }\n\n    public Slot getSlot() {\n        return slot;\n    }\n\n    public void setSlot(Slot slot) {\n        this.slot = slot;\n    }\n\n    public AttendanceStatus getStatus() {\n        return status;\n    }\n\n    public void setStatus(AttendanceStatus status) {\n        this.status = status;\n    }\n\n    public AttendanceMethod getMethod() {\n        return method;\n    }\n\n    public void setMethod(AttendanceMethod method) {\n        this.method = method;\n    }\n\n    public String getRemark() {\n        return remark;\n    }\n\n    public void setRemark(String remark) {\n        this.remark = remark;\n    }\n\n    public Boolean getNeedsReview() {\n        return needsReview;\n    }\n\n    public void setNeedsReview(Boolean needsReview) {\n        this.needsReview = needsReview;\n    }\n\n    public Instant getCreatedAt() {\n        return createdAt;\n    }\n\n    public void setCreatedAt(Instant createdAt) {\n        this.createdAt = createdAt;\n    }\n\n    public Instant getUpdatedAt() {\n        return updatedAt;\n    }\n\n    public void setUpdatedAt(Instant updatedAt) {\n        this.updatedAt = updatedAt;\n    }\n\n    @PrePersist\n    public void prePersist() {\n        if (this.recordedAt == null) {\n            this.recordedAt = Instant.now();\n        }\n    }\n}\n"
    },
    {
      "path": "D:\\Work\\do_an_fall25\\fuacs\\backend\\src\\main\\java\\com\\fuacs\\backend\\entity\\BaseEntity.java",
      "relative_path": "src/main/java/com/fuacs/backend/entity/BaseEntity.java",
      "filename": "BaseEntity.java",
      "size_bytes": 1542,
      "lines": 59,
      "last_modified": "2025-10-29T20:56:54.590616",
      "encoding": "utf-8",
      "language": "java",
      "content": "package com.fuacs.backend.entity;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.EntityListeners;\nimport jakarta.persistence.MappedSuperclass;\nimport org.springframework.data.annotation.CreatedDate;\nimport org.springframework.data.annotation.LastModifiedDate;\nimport org.springframework.data.jpa.domain.support.AuditingEntityListener;\n\nimport java.time.Instant;\n\n@MappedSuperclass\n@EntityListeners(AuditingEntityListener.class)\npublic class BaseEntity {\n\n    @CreatedDate\n    @Column(name = \"created_at\", updatable = false, nullable = false)\n    protected Instant createdAt;\n\n    @LastModifiedDate\n    @Column(name = \"updated_at\", nullable = false)\n    protected Instant updatedAt;\n\n    @Column(name = \"is_active\", nullable = false)\n    protected Boolean isActive = true;\n\n    public BaseEntity() {\n    }\n\n    public BaseEntity(Instant createdAt, Instant updatedAt, Boolean isActive) {\n        this.createdAt = createdAt;\n        this.updatedAt = updatedAt;\n        this.isActive = isActive;\n    }\n\n    public Boolean getActive() {\n        return isActive;\n    }\n\n    public void setActive(Boolean active) {\n        isActive = active;\n    }\n\n    public Instant getCreatedAt() {\n        return createdAt;\n    }\n\n    public void setCreatedAt(Instant createdAt) {\n        this.createdAt = createdAt;\n    }\n\n    public Instant getUpdatedAt() {\n        return updatedAt;\n    }\n\n    public void setUpdatedAt(Instant updatedAt) {\n        this.updatedAt = updatedAt;\n    }\n}\n"
    },
    {
      "path": "D:\\Work\\do_an_fall25\\fuacs\\backend\\src\\main\\java\\com\\fuacs\\backend\\entity\\Camera.java",
      "relative_path": "src/main/java/com/fuacs/backend/entity/Camera.java",
      "filename": "Camera.java",
      "size_bytes": 2261,
      "lines": 76,
      "last_modified": "2025-11-09T20:27:56.534501",
      "encoding": "utf-8",
      "language": "java",
      "content": "package com.fuacs.backend.entity;\n\nimport com.fuacs.backend.constant.Constant;\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.FetchType;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.JoinColumn;\nimport jakarta.persistence.ManyToOne;\nimport jakarta.persistence.Table;\n\n/**\n * Entity đại diện cho camera IP được lắp đặt trong phòng để nhận diện khuôn mặt khi điểm danh.\n * Lưu trữ thông tin về: tên camera, RTSP stream URL, và phòng lắp đặt.\n *\n * Quan hệ với các entity khác:\n * - Room: ManyToOne - mỗi camera thuộc về đúng một phòng\n *\n * Ví dụ camera: \"CAM-301-Front\" tại phòng 301, \"CAM-Lab-A1-Back\" tại Lab-A1\n *\n * @see Room\n */\n@Entity\n@Table(name = \"cameras\")\npublic class Camera extends BaseEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Short id;\n\n    /** Mã định danh camera unique (ví dụ: \"CAM-301-Front\", \"CAM-Lab-A1-Back\") */\n    @Column(name = \"name\", length = Constant._150, nullable = false, unique = true)\n    private String name;\n\n    /** RTSP stream URL để nhận diện khuôn mặt (ví dụ: \"rtsp://192.168.1.100:554/stream1\") */\n    @Column(name = \"rtsp_url\", length = Constant._512, nullable = false, unique = true)\n    private String rtspUrl;\n\n    /** Phòng mà camera này được lắp đặt (bắt buộc - mỗi camera thuộc về đúng một phòng) */\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"room_id\", nullable = false)\n    private Room room;\n\n    public Short getId() {\n        return id;\n    }\n\n    public void setId(Short id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getRtspUrl() {\n        return rtspUrl;\n    }\n\n    public void setRtspUrl(String rtspUrl) {\n        this.rtspUrl = rtspUrl;\n    }\n\n    public Room getRoom() {\n        return room;\n    }\n\n    public void setRoom(Room room) {\n        this.room = room;\n    }\n}"
    },
    {
      "path": "D:\\Work\\do_an_fall25\\fuacs\\backend\\src\\main\\java\\com\\fuacs\\backend\\entity\\Enrollment.java",
      "relative_path": "src/main/java/com/fuacs/backend/entity/Enrollment.java",
      "filename": "Enrollment.java",
      "size_bytes": 2599,
      "lines": 97,
      "last_modified": "2025-10-29T20:56:54.590616",
      "encoding": "utf-8",
      "language": "java",
      "content": "package com.fuacs.backend.entity;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.EmbeddedId;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.EntityListeners;\nimport jakarta.persistence.FetchType;\nimport jakarta.persistence.Index;\nimport jakarta.persistence.JoinColumn;\nimport jakarta.persistence.ManyToOne;\nimport jakarta.persistence.MapsId;\nimport jakarta.persistence.Table;\nimport org.springframework.data.annotation.CreatedDate;\nimport org.springframework.data.annotation.LastModifiedDate;\nimport org.springframework.data.jpa.domain.support.AuditingEntityListener;\n\nimport java.time.Instant;\n\n@Entity\n@Table(name = \"enrollments\", indexes = {\n    @Index(name = \"idx_enrollments_class_id_enrolled\", columnList = \"class_id, is_enrolled\"),\n    @Index(name = \"idx_enrollments_student_user_id\", columnList = \"student_user_id\")\n})\n@EntityListeners(AuditingEntityListener.class)\npublic class Enrollment {\n    @EmbeddedId\n    private EnrollmentId id;\n\n    @Column(name = \"is_enrolled\", nullable = false)\n    private boolean isEnrolled = true;\n\n    @CreatedDate\n    @Column(name = \"created_at\", updatable = false, nullable = false)\n    private Instant createdAt;\n\n    @LastModifiedDate\n    @Column(name = \"updated_at\")\n    private Instant updatedAt;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @MapsId(\"classId\")\n    @JoinColumn(name = \"class_id\")\n    private AcademicClass academicClass;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @MapsId(\"studentUserId\")\n    @JoinColumn(name = \"student_user_id\")\n    private User student;\n\n    public EnrollmentId getId() {\n        return id;\n    }\n\n    public void setId(EnrollmentId id) {\n        this.id = id;\n    }\n\n    public boolean getEnrolled() {\n        return isEnrolled;\n    }\n\n    public void setEnrolled(boolean enrolled) {\n        isEnrolled = enrolled;\n    }\n\n    public Instant getCreatedAt() {\n        return createdAt;\n    }\n\n    public void setCreatedAt(Instant createdAt) {\n        this.createdAt = createdAt;\n    }\n\n    public Instant getUpdatedAt() {\n        return updatedAt;\n    }\n\n    public void setUpdatedAt(Instant updatedAt) {\n        this.updatedAt = updatedAt;\n    }\n\n    public AcademicClass getAcademicClass() {\n        return academicClass;\n    }\n\n    public void setAcademicClass(AcademicClass academicClass) {\n        this.academicClass = academicClass;\n    }\n\n    public User getStudent() {\n        return student;\n    }\n\n    public void setStudent(User student) {\n        this.student = student;\n    }\n}\n"
    },
    {
      "path": "D:\\Work\\do_an_fall25\\fuacs\\backend\\src\\main\\java\\com\\fuacs\\backend\\entity\\EnrollmentId.java",
      "relative_path": "src/main/java/com/fuacs/backend/entity/EnrollmentId.java",
      "filename": "EnrollmentId.java",
      "size_bytes": 1363,
      "lines": 53,
      "last_modified": "2025-10-29T20:56:54.591623",
      "encoding": "utf-8",
      "language": "java",
      "content": "package com.fuacs.backend.entity;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Embeddable;\nimport java.io.Serializable;\nimport java.util.Objects;\n\n@Embeddable\npublic class EnrollmentId implements Serializable {\n    @Column(name = \"class_id\")\n    private Short classId;\n\n    @Column(name = \"student_user_id\")\n    private Integer studentUserId;\n\n    public EnrollmentId() {\n    }\n\n    public EnrollmentId(Short classId, Integer studentUserId) {\n        this.classId = classId;\n        this.studentUserId = studentUserId;\n    }\n\n    public Short getClassId() {\n        return classId;\n    }\n\n    public void setClassId(Short classId) {\n        this.classId = classId;\n    }\n\n    public Integer getStudentUserId() {\n        return studentUserId;\n    }\n\n    public void setStudentUserId(Integer studentUserId) {\n        this.studentUserId = studentUserId;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        EnrollmentId that = (EnrollmentId) o;\n        return Objects.equals(classId, that.classId) && \n               Objects.equals(studentUserId, that.studentUserId);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(classId, studentUserId);\n    }\n}\n"
    },
    {
      "path": "D:\\Work\\do_an_fall25\\fuacs\\backend\\src\\main\\java\\com\\fuacs\\backend\\entity\\ExamAttendance.java",
      "relative_path": "src/main/java/com/fuacs/backend/entity/ExamAttendance.java",
      "filename": "ExamAttendance.java",
      "size_bytes": 4521,
      "lines": 162,
      "last_modified": "2025-11-11T13:24:54.493157",
      "encoding": "utf-8",
      "language": "java",
      "content": "package com.fuacs.backend.entity;\n\nimport com.fuacs.backend.constant.Constant;\nimport com.fuacs.backend.constant.enums.AttendanceMethod;\nimport com.fuacs.backend.constant.enums.AttendanceStatus;\nimport com.fuacs.backend.persistence.converter.AttendanceMethodConverter;\nimport com.fuacs.backend.persistence.converter.AttendanceStatusConverter;\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.EntityListeners;\nimport jakarta.persistence.PrePersist;\nimport jakarta.persistence.Convert;\nimport jakarta.persistence.FetchType;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Index;\nimport jakarta.persistence.JoinColumn;\nimport jakarta.persistence.ManyToOne;\nimport jakarta.persistence.Table;\nimport jakarta.persistence.UniqueConstraint;\nimport org.springframework.data.annotation.CreatedDate;\nimport org.springframework.data.annotation.LastModifiedDate;\nimport org.springframework.data.jpa.domain.support.AuditingEntityListener;\n\nimport java.time.Instant;\n\n@EntityListeners(AuditingEntityListener.class)\n@Entity\n@Table(name = \"exam_attendance\",\n        uniqueConstraints = {@UniqueConstraint(name = \"idx_exam_attendance_student_slot\", columnNames = {\"student_user_id\", \"slot_id\"})},\n        indexes = {\n            @Index(name = \"idx_exam_attendance_slot_id\", columnList = \"slot_id\"),\n            @Index(name = \"idx_exam_attendance_status\", columnList = \"status\")\n        }\n)\npublic class ExamAttendance {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \"id\")\n    public Long id;\n\n    @CreatedDate\n    @Column(name = \"created_at\", updatable = false, nullable = false)\n    private Instant createdAt;\n\n    @LastModifiedDate\n    @Column(name = \"updated_at\")\n    private Instant updatedAt;\n\n    @Column(name = \"recorded_at\", nullable = false)\n    public Instant recordedAt;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"student_user_id\", nullable = false)\n    public User student;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"slot_id\", nullable = false)\n    public Slot slot;\n\n    @Convert(converter = AttendanceStatusConverter.class)\n    @Column(name = \"status\", length = Constant._10, nullable = false)\n    public AttendanceStatus status;\n\n    @Convert(converter = AttendanceMethodConverter.class)\n    @Column(name = \"method\", length = Constant._20, nullable = false)\n    public AttendanceMethod method;\n\n    @Column(name = \"remark\", columnDefinition = \"TEXT\")\n    private String remark;\n\n    @Column(name = \"needs_review\", nullable = false)\n    private Boolean needsReview = false;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public Instant getCreatedAt() {\n        return createdAt;\n    }\n\n    public void setCreatedAt(Instant createdAt) {\n        this.createdAt = createdAt;\n    }\n\n    public Instant getUpdatedAt() {\n        return updatedAt;\n    }\n\n    public void setUpdatedAt(Instant updatedAt) {\n        this.updatedAt = updatedAt;\n    }\n\n    public Instant getRecordedAt() {\n        return recordedAt;\n    }\n\n    public void setRecordedAt(Instant recordedAt) {\n        this.recordedAt = recordedAt;\n    }\n\n    public User getStudent() {\n        return student;\n    }\n\n    public void setStudent(User student) {\n        this.student = student;\n    }\n\n    public Slot getSlot() {\n        return slot;\n    }\n\n    public void setSlot(Slot slot) {\n        this.slot = slot;\n    }\n\n    public AttendanceStatus getStatus() {\n        return status;\n    }\n\n    public void setStatus(AttendanceStatus status) {\n        this.status = status;\n    }\n\n    public AttendanceMethod getMethod() {\n        return method;\n    }\n\n    public void setMethod(AttendanceMethod method) {\n        this.method = method;\n    }\n\n    public String getRemark() {\n        return remark;\n    }\n\n    public void setRemark(String remark) {\n        this.remark = remark;\n    }\n\n    public Boolean getNeedsReview() {\n        return needsReview;\n    }\n\n    public void setNeedsReview(Boolean needsReview) {\n        this.needsReview = needsReview;\n    }\n\n    @PrePersist\n    public void prePersist() {\n        if (this.recordedAt == null) {\n            this.recordedAt = Instant.now();\n        }\n    }\n}\n"
    },
    {
      "path": "D:\\Work\\do_an_fall25\\fuacs\\backend\\src\\main\\java\\com\\fuacs\\backend\\entity\\ExamAttendanceEvidence.java",
      "relative_path": "src/main/java/com/fuacs/backend/entity/ExamAttendanceEvidence.java",
      "filename": "ExamAttendanceEvidence.java",
      "size_bytes": 1618,
      "lines": 44,
      "last_modified": "2025-10-29T20:56:54.591623",
      "encoding": "utf-8",
      "language": "java",
      "content": "package com.fuacs.backend.entity;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.EntityListeners;\nimport jakarta.persistence.FetchType;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.JoinColumn;\nimport jakarta.persistence.OneToOne;\nimport jakarta.persistence.Table;\nimport org.springframework.data.annotation.CreatedDate;\nimport org.springframework.data.jpa.domain.support.AuditingEntityListener;\n\nimport java.time.Instant;\n\n@EntityListeners(AuditingEntityListener.class)\n@Entity\n@Table(name = \"exam_attendance_evidences\")\npublic class ExamAttendanceEvidence {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"exam_attendance_id\", nullable = false, unique = true)\n    private ExamAttendance examAttendance;\n\n    @Column(name = \"image_url\", nullable = false, length = 255)\n    private String imageUrl;\n\n    @CreatedDate\n    @Column(name = \"created_at\", nullable = false, updatable = false)\n    private Instant createdAt;\n\n    public Long getId() { return id; }\n    public ExamAttendance getExamAttendance() { return examAttendance; }\n    public void setExamAttendance(ExamAttendance examAttendance) { this.examAttendance = examAttendance; }\n    public String getImageUrl() { return imageUrl; }\n    public void setImageUrl(String imageUrl) { this.imageUrl = imageUrl; }\n    public Instant getCreatedAt() { return createdAt; }\n}\n"
    },
    {
      "path": "D:\\Work\\do_an_fall25\\fuacs\\backend\\src\\main\\java\\com\\fuacs\\backend\\entity\\ExamSlotParticipant.java",
      "relative_path": "src/main/java/com/fuacs/backend/entity/ExamSlotParticipant.java",
      "filename": "ExamSlotParticipant.java",
      "size_bytes": 2937,
      "lines": 102,
      "last_modified": "2025-10-29T20:56:54.592623",
      "encoding": "utf-8",
      "language": "java",
      "content": "package com.fuacs.backend.entity;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.EntityListeners;\nimport jakarta.persistence.FetchType;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Index;\nimport jakarta.persistence.JoinColumn;\nimport jakarta.persistence.ManyToOne;\nimport jakarta.persistence.Table;\nimport jakarta.persistence.UniqueConstraint;\nimport org.springframework.data.annotation.CreatedDate;\nimport org.springframework.data.annotation.LastModifiedDate;\nimport org.springframework.data.jpa.domain.support.AuditingEntityListener;\n\nimport java.time.Instant;\n\n@EntityListeners(AuditingEntityListener.class)\n@Entity\n@Table(name = \"exam_slot_participants\",\n        uniqueConstraints = {@UniqueConstraint(name = \"idx_exam_participants_slot_subject_student\", columnNames = {\"exam_slot_subject_id\", \"student_user_id\"})},\n        indexes = {\n            @Index(name = \"idx_exam_participants_student_user_id\", columnList = \"student_user_id\")\n        }\n)\npublic class ExamSlotParticipant {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"exam_slot_subject_id\", nullable = false)\n    private ExamSlotSubject examSlotSubject;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"student_user_id\", nullable = false)\n    private User studentUser;\n\n    @Column(name = \"is_enrolled\", nullable = false)\n    private Boolean isEnrolled = true;\n\n    @CreatedDate\n    @Column(name = \"created_at\", nullable = false, updatable = false)\n    private Instant createdAt;\n\n    @LastModifiedDate\n    @Column(name = \"updated_at\", nullable = false)\n    private Instant updatedAt;\n\n    // Getters and Setters\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public ExamSlotSubject getExamSlotSubject() {\n        return examSlotSubject;\n    }\n\n    public void setExamSlotSubject(ExamSlotSubject examSlotSubject) {\n        this.examSlotSubject = examSlotSubject;\n    }\n\n    public User getStudentUser() {\n        return studentUser;\n    }\n\n    public void setStudentUser(User studentUser) {\n        this.studentUser = studentUser;\n    }\n\n    public Boolean getIsEnrolled() {\n        return isEnrolled;\n    }\n\n    public void setIsEnrolled(Boolean isEnrolled) {\n        this.isEnrolled = isEnrolled;\n    }\n\n    public Instant getCreatedAt() {\n        return createdAt;\n    }\n\n    public void setCreatedAt(Instant createdAt) {\n        this.createdAt = createdAt;\n    }\n\n    public Instant getUpdatedAt() {\n        return updatedAt;\n    }\n\n    public void setUpdatedAt(Instant updatedAt) {\n        this.updatedAt = updatedAt;\n    }\n}\n"
    },
    {
      "path": "D:\\Work\\do_an_fall25\\fuacs\\backend\\src\\main\\java\\com\\fuacs\\backend\\entity\\ExamSlotSubject.java",
      "relative_path": "src/main/java/com/fuacs/backend/entity/ExamSlotSubject.java",
      "filename": "ExamSlotSubject.java",
      "size_bytes": 3023,
      "lines": 113,
      "last_modified": "2025-10-29T20:56:54.592623",
      "encoding": "utf-8",
      "language": "java",
      "content": "package com.fuacs.backend.entity;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.EntityListeners;\nimport jakarta.persistence.FetchType;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Index;\nimport jakarta.persistence.JoinColumn;\nimport jakarta.persistence.ManyToOne;\nimport jakarta.persistence.Table;\nimport jakarta.persistence.UniqueConstraint;\nimport org.springframework.data.annotation.CreatedDate;\nimport org.springframework.data.jpa.domain.support.AuditingEntityListener;\n\nimport java.time.Instant;\n\n@EntityListeners(AuditingEntityListener.class)\n@Entity\n@Table(name = \"exam_slot_subjects\",\n        uniqueConstraints = {@UniqueConstraint(name = \"idx_exam_slot_subjects_slot_subject\", columnNames = {\"slot_id\", \"subject_id\"})},\n        indexes = {\n            @Index(name = \"idx_exam_slot_subjects_slot_id\", columnList = \"slot_id\")\n        }\n)\npublic class ExamSlotSubject {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"slot_id\", nullable = false)\n    private Slot slot;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"subject_id\", nullable = false)\n    private Subject subject;\n\n    @CreatedDate\n    @Column(name = \"created_at\", nullable = false, updatable = false)\n    private Instant createdAt;\n\n    // Soft delete fields\n    @Column(name = \"is_active\", nullable = false)\n    private Boolean isActive = true;\n\n    @Column(name = \"deactivated_at\")\n    private Instant deactivatedAt;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"deactivated_by_user_id\")\n    private User deactivatedByUser;\n\n    // Getters and Setters\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public Slot getSlot() {\n        return slot;\n    }\n\n    public void setSlot(Slot slot) {\n        this.slot = slot;\n    }\n\n    public Subject getSubject() {\n        return subject;\n    }\n\n    public void setSubject(Subject subject) {\n        this.subject = subject;\n    }\n\n    public Instant getCreatedAt() {\n        return createdAt;\n    }\n\n    public void setCreatedAt(Instant createdAt) {\n        this.createdAt = createdAt;\n    }\n\n    public Boolean getIsActive() {\n        return isActive;\n    }\n\n    public void setIsActive(Boolean isActive) {\n        this.isActive = isActive;\n    }\n\n    public Instant getDeactivatedAt() {\n        return deactivatedAt;\n    }\n\n    public void setDeactivatedAt(Instant deactivatedAt) {\n        this.deactivatedAt = deactivatedAt;\n    }\n\n    public User getDeactivatedByUser() {\n        return deactivatedByUser;\n    }\n\n    public void setDeactivatedByUser(User deactivatedByUser) {\n        this.deactivatedByUser = deactivatedByUser;\n    }\n}\n"
    },
    {
      "path": "D:\\Work\\do_an_fall25\\fuacs\\backend\\src\\main\\java\\com\\fuacs\\backend\\entity\\FaceEmbedding.java",
      "relative_path": "src/main/java/com/fuacs/backend/entity/FaceEmbedding.java",
      "filename": "FaceEmbedding.java",
      "size_bytes": 2419,
      "lines": 82,
      "last_modified": "2025-10-29T20:56:54.592623",
      "encoding": "utf-8",
      "language": "java",
      "content": "package com.fuacs.backend.entity;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.FetchType;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.JoinColumn;\nimport jakarta.persistence.ManyToOne;\nimport jakarta.persistence.Table;\nimport jakarta.persistence.Index;\nimport org.hibernate.annotations.Type;\n\n@Entity\n@Table(name = \"face_embeddings\", indexes = {\n        @Index(name = \"idx_face_embeddings_student_active\", columnList = \"student_user_id\")\n// Note: Unique partial index WHERE is_active = true must be created via SQL\n// migration\n// CREATE UNIQUE INDEX idx_face_embeddings_student_active ON\n// face_embeddings(student_user_id) WHERE is_active = true;\n// Note: IVFFlat vector index must be created via SQL migration\n// CREATE INDEX idx_face_embeddings_vector ON face_embeddings USING ivfflat\n// (embedding_vector vector_cosine_ops) WITH (lists = 100);\n})\npublic class FaceEmbedding extends BaseEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"student_user_id\", nullable = false)\n    private User student;\n\n    @Column(name = \"version\", nullable = false)\n    private Integer version;\n\n    @Type(value = FloatArrayType.class)\n    @Column(name = \"embedding_vector\", nullable = false, columnDefinition = \"vector(512)\")\n    private float[] embeddingVector;\n\n    // Override default is_active value from BaseEntity (schema requires false\n    // as default)\n    public FaceEmbedding() {\n        super();\n        this.setActive(false);\n    }\n\n    // Getters and Setters\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public User getStudent() {\n        return student;\n    }\n\n    public void setStudent(User student) {\n        this.student = student;\n    }\n\n    public Integer getVersion() {\n        return version;\n    }\n\n    public void setVersion(Integer version) {\n        this.version = version;\n    }\n\n    public float[] getEmbeddingVector() {\n        return embeddingVector;\n    }\n\n    public void setEmbeddingVector(float[] embeddingVector) {\n        this.embeddingVector = embeddingVector;\n    }\n}\n"
    },
    {
      "path": "D:\\Work\\do_an_fall25\\fuacs\\backend\\src\\main\\java\\com\\fuacs\\backend\\entity\\FloatArrayType.java",
      "relative_path": "src/main/java/com/fuacs/backend/entity/FloatArrayType.java",
      "filename": "FloatArrayType.java",
      "size_bytes": 2001,
      "lines": 59,
      "last_modified": "2025-10-29T20:56:54.592623",
      "encoding": "utf-8",
      "language": "java",
      "content": "package com.fuacs.backend.entity;\n\nimport org.hibernate.engine.spi.SharedSessionContractImplementor;\nimport org.hibernate.usertype.UserType;\nimport java.io.Serializable;\nimport java.sql.*;\nimport java.util.Arrays;\n\npublic class FloatArrayType implements UserType<float[]> {\n\n    @Override\n    public int getSqlType() { return Types.OTHER; }\n\n    @Override\n    public Class<float[]> returnedClass() { return float[].class; }\n\n    @Override\n    public boolean equals(float[] x, float[] y) { return Arrays.equals(x, y); }\n\n    @Override\n    public int hashCode(float[] x) { return Arrays.hashCode(x); }\n\n    @Override\n    public float[] nullSafeGet(ResultSet rs, int position, SharedSessionContractImplementor session, Object owner)\n            throws SQLException {\n        String value = rs.getString(position);\n        if (value == null) return null;\n        value = value.replaceAll(\"[\\\\[\\\\]]\", \"\");\n        String[] parts = value.split(\",\");\n        float[] result = new float[parts.length];\n        for (int i = 0; i < parts.length; i++) result[i] = Float.parseFloat(parts[i]);\n        return result;\n    }\n\n    @Override\n    public void nullSafeSet(PreparedStatement st, float[] value, int index, SharedSessionContractImplementor session)\n            throws SQLException {\n        if (value == null)\n            st.setNull(index, Types.OTHER);\n        else\n            st.setObject(index, Arrays.toString(value), Types.OTHER);\n    }\n\n    @Override\n    public float[] deepCopy(float[] value) { return value == null ? null : value.clone(); }\n\n    @Override\n    public boolean isMutable() { return true; }\n\n    @Override\n    public Serializable disassemble(float[] value) { return deepCopy(value); }\n\n    @Override\n    public float[] assemble(Serializable cached, Object owner) { return deepCopy((float[]) cached); }\n\n    @Override\n    public float[] replace(float[] original, float[] target, Object owner) { return deepCopy(original); }\n}\n\n"
    },
    {
      "path": "D:\\Work\\do_an_fall25\\fuacs\\backend\\src\\main\\java\\com\\fuacs\\backend\\entity\\Major.java",
      "relative_path": "src/main/java/com/fuacs/backend/entity/Major.java",
      "filename": "Major.java",
      "size_bytes": 1775,
      "lines": 73,
      "last_modified": "2025-10-29T20:56:54.592623",
      "encoding": "utf-8",
      "language": "java",
      "content": "package com.fuacs.backend.entity;\n\nimport com.fuacs.backend.constant.Constant;\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.ManyToMany;\nimport jakarta.persistence.OneToMany;\nimport jakarta.persistence.Table;\n\nimport java.util.Set;\n\n@Entity\n@Table(name = \"majors\")\npublic class Major extends BaseEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Short id;\n\n    @Column(name = \"name\", length = Constant._150, nullable = false, unique = true)\n    private String name;\n\n    @Column(name = \"code\", length = Constant._20, nullable = false, unique = true)\n    private String code;\n\n    @ManyToMany(mappedBy = \"majors\")\n    private Set<Subject> subjects;\n\n    @OneToMany(mappedBy = \"major\")\n    private Set<StudentProfile> studentProfiles;\n\n    public Short getId() {\n        return id;\n    }\n\n    public void setId(Short id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getCode() {\n        return code;\n    }\n\n    public void setCode(String code) {\n        this.code = code;\n    }\n\n    public Set<Subject> getSubjects() {\n        return subjects;\n    }\n\n    public void setSubjects(Set<Subject> subjects) {\n        this.subjects = subjects;\n    }\n\n    public Set<StudentProfile> getStudentProfiles() {\n        return studentProfiles;\n    }\n\n    public void setStudentProfiles(Set<StudentProfile> studentProfiles) {\n        this.studentProfiles = studentProfiles;\n    }\n}\n"
    },
    {
      "path": "D:\\Work\\do_an_fall25\\fuacs\\backend\\src\\main\\java\\com\\fuacs\\backend\\entity\\NotificationDelivery.java",
      "relative_path": "src/main/java/com/fuacs/backend/entity/NotificationDelivery.java",
      "filename": "NotificationDelivery.java",
      "size_bytes": 1916,
      "lines": 69,
      "last_modified": "2025-10-29T20:56:54.594129",
      "encoding": "utf-8",
      "language": "java",
      "content": "package com.fuacs.backend.entity;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.FetchType;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Index;\nimport jakarta.persistence.JoinColumn;\nimport jakarta.persistence.ManyToOne;\nimport jakarta.persistence.Table;\n\nimport java.time.Instant;\n\n@Entity\n@Table(name = \"notification_deliveries\", indexes = {\n        @Index(name = \"idx_notification_deliveries_recipient_unread\", columnList = \"recipient_user_id, read_at\"),\n        @Index(name = \"idx_notification_deliveries_recipient_created\", columnList = \"recipient_user_id, created_at\")\n})\npublic class NotificationDelivery extends BaseEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"notification_id\", nullable = false)\n    private SystemNotification notification;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"recipient_user_id\", nullable = false)\n    private User recipient;\n\n    @Column(name = \"read_at\")\n    private Instant readAt;\n\n    // Getters and Setters\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public SystemNotification getNotification() {\n        return notification;\n    }\n\n    public void setNotification(SystemNotification notification) {\n        this.notification = notification;\n    }\n\n    public User getRecipient() {\n        return recipient;\n    }\n\n    public void setRecipient(User recipient) {\n        this.recipient = recipient;\n    }\n\n    public Instant getReadAt() {\n        return readAt;\n    }\n\n    public void setReadAt(Instant readAt) {\n        this.readAt = readAt;\n    }\n}\n"
    },
    {
      "path": "D:\\Work\\do_an_fall25\\fuacs\\backend\\src\\main\\java\\com\\fuacs\\backend\\entity\\PasswordResetToken.java",
      "relative_path": "src/main/java/com/fuacs/backend/entity/PasswordResetToken.java",
      "filename": "PasswordResetToken.java",
      "size_bytes": 1928,
      "lines": 74,
      "last_modified": "2025-10-29T20:56:54.594129",
      "encoding": "utf-8",
      "language": "java",
      "content": "package com.fuacs.backend.entity;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.EntityListeners;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\nimport org.springframework.data.annotation.CreatedDate;\nimport org.springframework.data.jpa.domain.support.AuditingEntityListener;\n\nimport java.time.Instant;\n\n@EntityListeners(AuditingEntityListener.class)\n@Entity\n@Table(name = \"password_reset_tokens\")\npublic class PasswordResetToken {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    @Column(name = \"email\", length = 128, unique = true, nullable = false)\n    private String email;\n    @CreatedDate\n    @Column(name = \"created_at\", nullable = false)\n    protected Instant createdAt;\n    @Column(name = \"expires_at\", nullable = false)\n    protected Instant expiresAt;\n    @Column(name = \"token_hash\", length = 100, unique = true, nullable = false)\n    private String tokenHash;\n\n    public PasswordResetToken() {\n    }\n\n    public String getTokenHash() {\n        return tokenHash;\n    }\n\n    public void setTokenHash(String tokenHash) {\n        this.tokenHash = tokenHash;\n    }\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public Instant getCreatedAt() {\n        return createdAt;\n    }\n\n    public void setCreatedAt(Instant createdAt) {\n        this.createdAt = createdAt;\n    }\n\n    public Instant getExpiresAt() {\n        return expiresAt;\n    }\n\n    public void setExpiresAt(Instant expiresAt) {\n        this.expiresAt = expiresAt;\n    }\n}\n"
    },
    {
      "path": "D:\\Work\\do_an_fall25\\fuacs\\backend\\src\\main\\java\\com\\fuacs\\backend\\entity\\Permission.java",
      "relative_path": "src/main/java/com/fuacs/backend/entity/Permission.java",
      "filename": "Permission.java",
      "size_bytes": 1241,
      "lines": 54,
      "last_modified": "2025-10-29T20:56:54.594129",
      "encoding": "utf-8",
      "language": "java",
      "content": "package com.fuacs.backend.entity;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.FetchType;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.ManyToMany;\nimport jakarta.persistence.Table;\n\nimport java.util.Set;\n\n@Entity\n@Table(name = \"permissions\")\npublic class Permission extends BaseEntity {\n    @Id\n    @Column(name = \"id\", nullable = false)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Short id;\n\n    @Column(name = \"name\", unique = true, length = 100, nullable = false)\n    private String name;\n\n    @ManyToMany(mappedBy = \"permissions\", fetch = FetchType.LAZY)\n    private Set<Role> roles;\n\n    public Permission() {\n    }\n\n    public Short getId() {\n        return id;\n    }\n\n    public void setId(Short id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public Set<Role> getRoles() {\n        return roles;\n    }\n\n    public void setRoles(Set<Role> roles) {\n        this.roles = roles;\n    }\n}\n"
    },
    {
      "path": "D:\\Work\\do_an_fall25\\fuacs\\backend\\src\\main\\java\\com\\fuacs\\backend\\entity\\RegularAttendanceEvidence.java",
      "relative_path": "src/main/java/com/fuacs/backend/entity/RegularAttendanceEvidence.java",
      "filename": "RegularAttendanceEvidence.java",
      "size_bytes": 1646,
      "lines": 44,
      "last_modified": "2025-10-29T20:56:54.595134",
      "encoding": "utf-8",
      "language": "java",
      "content": "package com.fuacs.backend.entity;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.EntityListeners;\nimport jakarta.persistence.FetchType;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.JoinColumn;\nimport jakarta.persistence.OneToOne;\nimport jakarta.persistence.Table;\nimport org.springframework.data.annotation.CreatedDate;\nimport org.springframework.data.jpa.domain.support.AuditingEntityListener;\n\nimport java.time.Instant;\n\n@EntityListeners(AuditingEntityListener.class)\n@Entity\n@Table(name = \"regular_attendance_evidences\")\npublic class RegularAttendanceEvidence {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"attendance_record_id\", nullable = false, unique = true)\n    private AttendanceRecord attendanceRecord;\n\n    @Column(name = \"image_url\", nullable = false, length = 255)\n    private String imageUrl;\n\n    @CreatedDate\n    @Column(name = \"created_at\", nullable = false, updatable = false)\n    private Instant createdAt;\n\n    public Long getId() { return id; }\n    public AttendanceRecord getAttendanceRecord() { return attendanceRecord; }\n    public void setAttendanceRecord(AttendanceRecord attendanceRecord) { this.attendanceRecord = attendanceRecord; }\n    public String getImageUrl() { return imageUrl; }\n    public void setImageUrl(String imageUrl) { this.imageUrl = imageUrl; }\n    public Instant getCreatedAt() { return createdAt; }\n}\n"
    },
    {
      "path": "D:\\Work\\do_an_fall25\\fuacs\\backend\\src\\main\\java\\com\\fuacs\\backend\\entity\\Role.java",
      "relative_path": "src/main/java/com/fuacs/backend/entity/Role.java",
      "filename": "Role.java",
      "size_bytes": 1727,
      "lines": 71,
      "last_modified": "2025-10-29T20:56:54.595134",
      "encoding": "utf-8",
      "language": "java",
      "content": "package com.fuacs.backend.entity;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.FetchType;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.JoinColumn;\nimport jakarta.persistence.JoinTable;\nimport jakarta.persistence.ManyToMany;\nimport jakarta.persistence.Table;\n\nimport java.util.Set;\n\n@Entity\n@Table(name = \"roles\")\npublic class Role extends BaseEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Short id;\n\n    @Column(name = \"name\", unique = true, length = 100, nullable = false)\n    private String name;\n\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(\n            name = \"role_permissions\",\n            joinColumns = @JoinColumn(name = \"role_id\"),\n            inverseJoinColumns = @JoinColumn(name = \"permission_id\")\n    )\n    private Set<Permission> permissions;\n\n    @ManyToMany(mappedBy = \"roles\", fetch = FetchType.LAZY)\n    private Set<User> users;\n\n    public Role() {\n    }\n\n    public Short getId() {\n        return id;\n    }\n\n    public void setId(Short id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public Set<User> getUsers() {\n        return users;\n    }\n\n    public void setUsers(Set<User> users) {\n        this.users = users;\n    }\n\n    public Set<Permission> getPermissions() {\n        return permissions;\n    }\n\n    public void setPermissions(Set<Permission> permissions) {\n        this.permissions = permissions;\n    }\n}\n"
    },
    {
      "path": "D:\\Work\\do_an_fall25\\fuacs\\backend\\src\\main\\java\\com\\fuacs\\backend\\entity\\Room.java",
      "relative_path": "src/main/java/com/fuacs/backend/entity/Room.java",
      "filename": "Room.java",
      "size_bytes": 2522,
      "lines": 98,
      "last_modified": "2025-11-09T20:27:56.535503",
      "encoding": "utf-8",
      "language": "java",
      "content": "package com.fuacs.backend.entity;\n\nimport com.fuacs.backend.constant.Constant;\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.FetchType;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.OneToMany;\nimport jakarta.persistence.Table;\n\nimport java.util.Set;\n\n/**\n * Đại diện cho phòng học/thi thực tế nơi diễn ra các buổi học và thi.\n * Mỗi phòng có thể chứa nhiều camera để nhận diện khuôn mặt và nhiều slot đã được lên lịch.\n *\n * @see Camera\n * @see Slot\n */\n@Entity\n@Table(name = \"rooms\")\npublic class Room extends BaseEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Short id;\n\n    /**\n     * Mã định danh phòng duy nhất (ví dụ: \"301\", \"Lab-A1\").\n     * Phải unique trên toàn hệ thống.\n     */\n    @Column(name = \"name\", length = Constant._150, nullable = false, unique = true)\n    private String name;\n\n    /**\n     * Mô tả vị trí vật lý của phòng (ví dụ: \"Tòa A, Tầng 3\").\n     * Có thể null.\n     */\n    @Column(name = \"location\", length = Constant._255)\n    private String location;\n\n    /**\n     * Tất cả camera được lắp đặt trong phòng này để nhận diện điểm danh.\n     *\n     * @see Camera#getRoom()\n     */\n    @OneToMany(mappedBy = \"room\", fetch = FetchType.LAZY)\n    private Set<Camera> cameras;\n\n    /**\n     * Tất cả slot (buổi học/thi) được phân công cho phòng này.\n     *\n     * @see Slot#getRoom()\n     */\n    @OneToMany(mappedBy = \"room\", fetch = FetchType.LAZY)\n    private Set<Slot> slots;\n\n    public Short getId() {\n        return id;\n    }\n\n    public void setId(Short id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getLocation() {\n        return location;\n    }\n\n    public void setLocation(String location) {\n        this.location = location;\n    }\n\n    public Set<Camera> getCameras() {\n        return cameras;\n    }\n\n    public void setCameras(Set<Camera> cameras) {\n        this.cameras = cameras;\n    }\n\n    public Set<Slot> getSlots() {\n        return slots;\n    }\n\n    public void setSlots(Set<Slot> slots) {\n        this.slots = slots;\n    }\n}\n"
    },
    {
      "path": "D:\\Work\\do_an_fall25\\fuacs\\backend\\src\\main\\java\\com\\fuacs\\backend\\entity\\Semester.java",
      "relative_path": "src/main/java/com/fuacs/backend/entity/Semester.java",
      "filename": "Semester.java",
      "size_bytes": 3007,
      "lines": 116,
      "last_modified": "2025-10-29T20:56:54.595134",
      "encoding": "utf-8",
      "language": "java",
      "content": "package com.fuacs.backend.entity;\n\nimport com.fuacs.backend.constant.Constant;\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.OneToMany;\nimport jakarta.persistence.Table;\n\nimport java.time.Instant;\nimport java.time.LocalDate;\nimport java.util.Set;\n\n@Entity\n@Table(name = \"semesters\")\npublic class Semester extends BaseEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Short id;\n\n    @Column(name = \"name\", length = Constant._20, nullable = false, unique = true)\n    private String name;\n\n    @Column(name = \"code\", length = Constant._10, nullable = false, unique = true)\n    private String code;\n\n    @Column(name = \"start_date\", nullable = false)\n    private LocalDate startDate;\n\n    @Column(name = \"end_date\", nullable = false)\n    private LocalDate endDate;\n\n    @OneToMany(mappedBy = \"semester\")\n    private Set<AcademicClass> academicClasses;\n\n    public Semester(\n            Short id,\n            String name,\n            String code,\n            LocalDate startDate,\n            LocalDate endDate,\n            Boolean isActive,\n            Instant createdAt,\n            Instant updatedAt,\n            Set<AcademicClass> academicClasses) {\n        super(createdAt, updatedAt, isActive);\n        this.id = id;\n        this.name = name;\n        this.code = code;\n        this.startDate = startDate;\n        this.endDate = endDate;\n        this.academicClasses = academicClasses;\n    }\n\n    public Semester() {\n    }\n\n    public Semester(Short id, String name, String code, LocalDate startDate, LocalDate endDate, Instant createdAt, Instant updatedAt, Boolean isActive) {\n        super(createdAt, updatedAt, isActive);\n        this.id = id;\n        this.name = name;\n        this.code = code;\n        this.startDate = startDate;\n        this.endDate = endDate;\n    }\n\n    public Short getId() {\n        return id;\n    }\n\n    public void setId(Short id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getCode() {\n        return code;\n    }\n\n    public void setCode(String code) {\n        this.code = code;\n    }\n\n    public LocalDate getStartDate() {\n        return startDate;\n    }\n\n    public void setStartDate(LocalDate startDate) {\n        this.startDate = startDate;\n    }\n\n    public LocalDate getEndDate() {\n        return endDate;\n    }\n\n    public void setEndDate(LocalDate endDate) {\n        this.endDate = endDate;\n    }\n\n    public Set<AcademicClass> getAcademicClasses() {\n        return academicClasses;\n    }\n\n    public void setAcademicClasses(Set<AcademicClass> academicClasses) {\n        this.academicClasses = academicClasses;\n    }\n}"
    },
    {
      "path": "D:\\Work\\do_an_fall25\\fuacs\\backend\\src\\main\\java\\com\\fuacs\\backend\\entity\\Slot.java",
      "relative_path": "src/main/java/com/fuacs/backend/entity/Slot.java",
      "filename": "Slot.java",
      "size_bytes": 6802,
      "lines": 240,
      "last_modified": "2025-11-09T20:27:56.535503",
      "encoding": "utf-8",
      "language": "java",
      "content": "package com.fuacs.backend.entity;\n\nimport com.fuacs.backend.constant.Constant;\nimport com.fuacs.backend.constant.enums.SessionStatus;\nimport com.fuacs.backend.constant.enums.SlotCategory;\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.EnumType;\nimport jakarta.persistence.Enumerated;\nimport jakarta.persistence.FetchType;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Index;\nimport jakarta.persistence.JoinColumn;\nimport jakarta.persistence.ManyToOne;\nimport jakarta.persistence.OneToMany;\nimport jakarta.persistence.Table;\n\nimport java.time.Instant;\nimport java.time.LocalDateTime;\nimport java.util.Set;\n\n@Entity\n@Table(name = \"slots\", indexes = {\n        @Index(name = \"idx_slots_class_id\", columnList = \"class_id\"),\n        @Index(name = \"idx_slots_semester_id\", columnList = \"semester_id\"),\n        @Index(name = \"idx_slots_staff_user_id\", columnList = \"staff_user_id\"),\n        @Index(name = \"idx_slots_room_id\", columnList = \"room_id\"),\n        @Index(name = \"idx_slots_start_time\", columnList = \"start_time\"),\n})\npublic class Slot extends BaseEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @Column(name = \"title\", length = Constant._255)\n    private String title;\n\n    @Column(name = \"description\", columnDefinition = \"TEXT\")\n    private String description;\n\n    @Enumerated(EnumType.STRING)\n    @Column(name = \"slot_category\", length = Constant._20, nullable = false)\n    private SlotCategory slotCategory;\n\n    @Column(name = \"start_time\", nullable = false)\n    private LocalDateTime startTime;\n\n    @Column(name = \"end_time\", nullable = false)\n    private LocalDateTime endTime;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"class_id\")\n    private AcademicClass academicClass;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"semester_id\")\n    private Semester semester;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"room_id\", nullable = false)\n    private Room room;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"staff_user_id\", nullable = false)\n    private User staff;\n\n    @OneToMany(mappedBy = \"slot\", fetch = FetchType.LAZY)\n    private Set<AttendanceRecord> attendanceRecords;\n\n    @OneToMany(mappedBy = \"slot\", fetch = FetchType.LAZY)\n    private Set<ExamAttendance> examAttendances;\n\n    @Enumerated(EnumType.STRING)\n    @Column(name = \"session_status\", length = 20, nullable = false)\n    private SessionStatus sessionStatus = SessionStatus.NOT_STARTED;\n\n    @Column(name = \"scan_count\", nullable = false)\n    private Integer scanCount = 0;\n\n    @Column(name = \"last_session_stopped_at\")\n    private Instant lastSessionStoppedAt;\n\n    // Exam Session Fields (for LECTURE_WITH_PT and FINAL_EXAM)\n    @Enumerated(EnumType.STRING)\n    @Column(name = \"exam_session_status\", length = 20, nullable = false)\n    private SessionStatus examSessionStatus = SessionStatus.NOT_STARTED;\n\n    @Column(name = \"exam_scan_count\", nullable = false)\n    private Integer examScanCount = 0;\n\n    @Column(name = \"last_exam_session_stopped_at\")\n    private Instant lastExamSessionStoppedAt;\n\n    // Getters and Setters\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public SlotCategory getSlotCategory() {\n        return slotCategory;\n    }\n\n    public void setSlotCategory(SlotCategory slotCategory) {\n        this.slotCategory = slotCategory;\n    }\n\n    public LocalDateTime getStartTime() {\n        return startTime;\n    }\n\n    public void setStartTime(LocalDateTime startTime) {\n        this.startTime = startTime;\n    }\n\n    public LocalDateTime getEndTime() {\n        return endTime;\n    }\n\n    public void setEndTime(LocalDateTime endTime) {\n        this.endTime = endTime;\n    }\n\n    public AcademicClass getAcademicClass() {\n        return academicClass;\n    }\n\n    public void setAcademicClass(AcademicClass academicClass) {\n        this.academicClass = academicClass;\n    }\n\n    public Semester getSemester() {\n        return semester;\n    }\n\n    public void setSemester(Semester semester) {\n        this.semester = semester;\n    }\n\n    public Room getRoom() {\n        return room;\n    }\n\n    public void setRoom(Room room) {\n        this.room = room;\n    }\n\n    public User getStaff() {\n        return staff;\n    }\n\n    public void setStaff(User staff) {\n        this.staff = staff;\n    }\n\n    public Set<AttendanceRecord> getAttendanceRecords() {\n        return attendanceRecords;\n    }\n\n    public void setAttendanceRecords(Set<AttendanceRecord> attendanceRecords) {\n        this.attendanceRecords = attendanceRecords;\n    }\n\n    public Set<ExamAttendance> getExamAttendances() {\n        return examAttendances;\n    }\n\n    public void setExamAttendances(Set<ExamAttendance> examAttendances) {\n        this.examAttendances = examAttendances;\n    }\n\n    public SessionStatus getSessionStatus() {\n        return sessionStatus;\n    }\n\n    public void setSessionStatus(SessionStatus sessionStatus) {\n        this.sessionStatus = sessionStatus;\n    }\n\n    public Integer getScanCount() {\n        return scanCount;\n    }\n\n    public void setScanCount(Integer scanCount) {\n        this.scanCount = scanCount;\n    }\n\n    public Instant getLastSessionStoppedAt() {\n        return lastSessionStoppedAt;\n    }\n\n    public void setLastSessionStoppedAt(Instant lastSessionStoppedAt) {\n        this.lastSessionStoppedAt = lastSessionStoppedAt;\n    }\n\n    public SessionStatus getExamSessionStatus() {\n        return examSessionStatus;\n    }\n\n    public void setExamSessionStatus(SessionStatus examSessionStatus) {\n        this.examSessionStatus = examSessionStatus;\n    }\n\n    public Integer getExamScanCount() {\n        return examScanCount;\n    }\n\n    public void setExamScanCount(Integer examScanCount) {\n        this.examScanCount = examScanCount;\n    }\n\n    public Instant getLastExamSessionStoppedAt() {\n        return lastExamSessionStoppedAt;\n    }\n\n    public void setLastExamSessionStoppedAt(Instant lastExamSessionStoppedAt) {\n        this.lastExamSessionStoppedAt = lastExamSessionStoppedAt;\n    }\n}"
    },
    {
      "path": "D:\\Work\\do_an_fall25\\fuacs\\backend\\src\\main\\java\\com\\fuacs\\backend\\entity\\StaffProfile.java",
      "relative_path": "src/main/java/com/fuacs/backend/entity/StaffProfile.java",
      "filename": "StaffProfile.java",
      "size_bytes": 1152,
      "lines": 50,
      "last_modified": "2025-10-29T20:56:54.596134",
      "encoding": "utf-8",
      "language": "java",
      "content": "package com.fuacs.backend.entity;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.FetchType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.JoinColumn;\nimport jakarta.persistence.MapsId;\nimport jakarta.persistence.OneToOne;\nimport jakarta.persistence.Table;\n\n@Entity\n@Table(name = \"staff_profiles\")\npublic class StaffProfile {\n    @Id\n    @Column(name = \"user_id\")\n    private Integer userId;\n\n    @Column(name = \"staff_code\", length = 20, unique = true, nullable = false)\n    private String staffCode;\n\n    @OneToOne(fetch = FetchType.LAZY)\n    @MapsId\n    @JoinColumn(name = \"user_id\")\n    private User user;\n\n    public Integer getUserId() {\n        return userId;\n    }\n\n    public void setUserId(Integer userId) {\n        this.userId = userId;\n    }\n\n    public String getStaffCode() {\n        return staffCode;\n    }\n\n    public void setStaffCode(String staffCode) {\n        this.staffCode = staffCode;\n    }\n\n    public User getUser() {\n        return user;\n    }\n\n    public void setUser(User user) {\n        this.user = user;\n    }\n}"
    },
    {
      "path": "D:\\Work\\do_an_fall25\\fuacs\\backend\\src\\main\\java\\com\\fuacs\\backend\\entity\\StudentProfile.java",
      "relative_path": "src/main/java/com/fuacs/backend/entity/StudentProfile.java",
      "filename": "StudentProfile.java",
      "size_bytes": 1773,
      "lines": 75,
      "last_modified": "2025-10-31T21:56:22.991949",
      "encoding": "utf-8",
      "language": "java",
      "content": "package com.fuacs.backend.entity;\n\nimport com.fuacs.backend.constant.Constant;\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.FetchType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.JoinColumn;\nimport jakarta.persistence.ManyToOne;\nimport jakarta.persistence.MapsId;\nimport jakarta.persistence.OneToOne;\nimport jakarta.persistence.Table;\n\n@Entity\n@Table(name = \"student_profiles\")\npublic class StudentProfile {\n    @Id\n    @Column(name = \"user_id\")\n    private Integer userId;\n\n    @OneToOne(fetch = FetchType.LAZY)\n    @MapsId\n    @JoinColumn(name = \"user_id\")\n    private User user;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"major_id\", nullable = false)\n    private Major major;\n\n    @Column(name = \"roll_number\", length = Constant._20, nullable = false, unique = true)\n    private String rollNumber;\n\n    @Column(name = \"base_photo_url\", length = Constant._255)\n    private String baseUrl;\n\n    public String getBaseUrl() {\n        return baseUrl;\n    }\n\n    public void setBaseUrl(String baseUrl) {\n        this.baseUrl = baseUrl;\n    }\n\n    public Integer getUserId() {\n        return userId;\n    }\n\n    public void setUserId(Integer userId) {\n        this.userId = userId;\n    }\n\n    public User getUser() {\n        return user;\n    }\n\n    public void setUser(User user) {\n        this.user = user;\n    }\n\n    public Major getMajor() {\n        return major;\n    }\n\n    public void setMajor(Major major) {\n        this.major = major;\n    }\n\n    public String getRollNumber() {\n        return rollNumber;\n    }\n\n    public void setRollNumber(String rollNumber) {\n        this.rollNumber = rollNumber;\n    }\n}\n"
    },
    {
      "path": "D:\\Work\\do_an_fall25\\fuacs\\backend\\src\\main\\java\\com\\fuacs\\backend\\entity\\Subject.java",
      "relative_path": "src/main/java/com/fuacs/backend/entity/Subject.java",
      "filename": "Subject.java",
      "size_bytes": 1989,
      "lines": 80,
      "last_modified": "2025-10-29T20:56:54.596134",
      "encoding": "utf-8",
      "language": "java",
      "content": "package com.fuacs.backend.entity;\n\nimport com.fuacs.backend.constant.Constant;\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.JoinColumn;\nimport jakarta.persistence.JoinTable;\nimport jakarta.persistence.ManyToMany;\nimport jakarta.persistence.OneToMany;\nimport jakarta.persistence.Table;\n\nimport java.util.Set;\n\n@Entity\n@Table(name = \"subjects\")\npublic class Subject extends BaseEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Short id;\n\n    @Column(name = \"name\", length = Constant._150, nullable = false)\n    private String name;\n\n    @Column(name = \"code\", length = Constant._20, nullable = false, unique = true)\n    private String code;\n\n    @ManyToMany\n    @JoinTable(\n            name = \"subject_majors\",\n            joinColumns = @JoinColumn(name = \"subject_id\"),\n            inverseJoinColumns = @JoinColumn(name = \"major_id\")\n    )\n    private Set<Major> majors;\n\n    @OneToMany(mappedBy = \"subject\")\n    private Set<AcademicClass> academicClasses;\n\n    public Short getId() {\n        return id;\n    }\n\n    public void setId(Short id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getCode() {\n        return code;\n    }\n\n    public void setCode(String code) {\n        this.code = code;\n    }\n\n    public Set<Major> getMajors() {\n        return majors;\n    }\n\n    public void setMajors(Set<Major> majors) {\n        this.majors = majors;\n    }\n\n    public Set<AcademicClass> getAcademicClasses() {\n        return academicClasses;\n    }\n\n    public void setAcademicClasses(Set<AcademicClass> academicClasses) {\n        this.academicClasses = academicClasses;\n    }\n}\n"
    },
    {
      "path": "D:\\Work\\do_an_fall25\\fuacs\\backend\\src\\main\\java\\com\\fuacs\\backend\\entity\\SystemNotification.java",
      "relative_path": "src/main/java/com/fuacs/backend/entity/SystemNotification.java",
      "filename": "SystemNotification.java",
      "size_bytes": 2009,
      "lines": 76,
      "last_modified": "2025-10-29T20:56:54.597134",
      "encoding": "utf-8",
      "language": "java",
      "content": "package com.fuacs.backend.entity;\n\nimport jakarta.persistence.CascadeType;\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Index;\nimport jakarta.persistence.OneToMany;\nimport jakarta.persistence.Table;\n\nimport java.util.Set;\n\n@Entity\n@Table(name = \"system_notifications\", indexes = {\n        @Index(name = \"idx_system_notifications_type\", columnList = \"notification_type\")\n})\npublic class SystemNotification extends BaseEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = \"notification_type\", length = 50, nullable = false)\n    private String notificationType;\n\n    @Column(name = \"title\", length = 255, nullable = false)\n    private String title;\n\n    @Column(name = \"content\", nullable = false, columnDefinition = \"TEXT\")\n    private String content;\n\n    @OneToMany(mappedBy = \"notification\", cascade = CascadeType.ALL)\n    private Set<NotificationDelivery> deliveries;\n\n    // Getters and Setters\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getNotificationType() {\n        return notificationType;\n    }\n\n    public void setNotificationType(String notificationType) {\n        this.notificationType = notificationType;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public String getContent() {\n        return content;\n    }\n\n    public void setContent(String content) {\n        this.content = content;\n    }\n\n    public Set<NotificationDelivery> getDeliveries() {\n        return deliveries;\n    }\n\n    public void setDeliveries(Set<NotificationDelivery> deliveries) {\n        this.deliveries = deliveries;\n    }\n}\n"
    },
    {
      "path": "D:\\Work\\do_an_fall25\\fuacs\\backend\\src\\main\\java\\com\\fuacs\\backend\\entity\\User.java",
      "relative_path": "src/main/java/com/fuacs/backend/entity/User.java",
      "filename": "User.java",
      "size_bytes": 2486,
      "lines": 98,
      "last_modified": "2025-11-14T16:34:49.323299",
      "encoding": "utf-8",
      "language": "java",
      "content": "package com.fuacs.backend.entity;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.FetchType;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.JoinColumn;\nimport jakarta.persistence.JoinTable;\nimport jakarta.persistence.ManyToMany;\nimport jakarta.persistence.OneToOne;\nimport jakarta.persistence.Table;\n\nimport java.util.Set;\n\n@Entity\n@Table(name = \"users\")\npublic class User extends BaseEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @Column(name = \"username\", length = 50, unique = true, nullable = false)\n    private String username;\n\n    @Column(name = \"email\", length = 128, unique = true, nullable = false)\n    private String email;\n\n    @Column(name = \"full_name\", length = 150, nullable = false)\n    private String fullName;\n\n    @Column(name = \"password_hash\", length = 255)\n    private String passwordHash;\n\n    @ManyToMany\n    @JoinTable(name = \"user_roles\", joinColumns = @JoinColumn(name = \"user_id\"), inverseJoinColumns = @JoinColumn(name = \"role_id\"))\n    private Set<Role> roles;\n\n    @OneToOne(mappedBy = \"user\", fetch = FetchType.LAZY)\n    private StudentProfile studentProfile;\n\n    public Set<Role> getRoles() {\n        return roles;\n    }\n\n    public void setRoles(Set<Role> roles) {\n        this.roles = roles;\n    }\n\n    public StudentProfile getStudentProfile() {\n        return studentProfile;\n    }\n\n    public void setStudentProfile(StudentProfile studentProfile) {\n        this.studentProfile = studentProfile;\n    }\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getFullName() {\n        return fullName;\n    }\n\n    public void setFullName(String fullName) {\n        this.fullName = fullName;\n    }\n\n    public String getPasswordHash() {\n        return passwordHash;\n    }\n\n    public void setPasswordHash(String passwordHash) {\n        this.passwordHash = passwordHash;\n    }\n}\n"
    }
  ]
}