# System Tables
# FUACS Database Schema - Version 1.0

tables:
  system_configurations:
    primary_key: id
    description: "System-wide configuration settings"
    columns:
      id:
        type: INT
        constraints: [NOT NULL, PRIMARY KEY, AUTO_INCREMENT]
        description: "Unique configuration identifier"
      created_at:
        type: timestamp
        constraints: [NOT NULL]
        default: now()
        description: "Configuration creation timestamp"
      updated_at:
        type: timestamp
        constraints: [NOT NULL]
        description: "Configuration last update timestamp"
      is_active:
        type: boolean
        constraints: [NOT NULL]
        default: true
        description: "Configuration status"
      key:
        type: varchar(255)
        constraints: [NOT NULL, UNIQUE]
        description: "Configuration key/name"
      value:
        type: text
        constraints: [NOT NULL]
        description: "Configuration value (can be JSON for complex settings)"
      description:
        type: text
        constraints: [NULL]
        description: "Human-readable description of the configuration"
    notes:
      - "Used for AI model settings, similarity thresholds, system behavior"
      - "Only System Admins can modify these settings"
      - "Values can be simple strings or JSON objects for complex configurations"

example_configurations:
  - key: "face_recognition.similarity_threshold"
    value: "0.85"
    description: "Minimum similarity score for face recognition matches"

  - key: "attendance.max_absence_percentage"
    value: "20"
    description: "The maximum allowed absence percentage for students before being marked ineligible for the final exam."

  - key: "attendance.auto_finalize_hours"
    value: "24"
    description: "Hours after slot end time before auto-finalization"

  - key: "notification.email_enabled"
    value: "true"
    description: "Whether to send email notifications"
